# ๐งฎ ุจุฑูุงูุฌ "ููููู" ุงููุญุงุณุจู ุงูุฐูู

> ูุธุงู ูุญุงุณุจู ูุชูุงูู ููุดุฑูุงุช ุงูุณุนูุฏูุฉ ูุน ุงูุชุซุงู ูุงูู ููุชุทูุจุงุช ููุฆุฉ ุงูุฒูุงุฉ ูุงูุถุฑูุจุฉ ูุงูุฌูุงุฑู (ZATCA)

[![React](https://img.shields.io/badge/React-18.3-blue.svg)](https://reactjs.org/)
[![Supabase](https://img.shields.io/badge/Supabase-PostgreSQL-green.svg)](https://supabase.com/)
[![License](https://img.shields.io/badge/License-Proprietary-red.svg)]()

---

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ช ููุทุฉ ุงูุจูุน (POS)
- ูุงุฌูุฉ ุณุฑูุนุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู
- ูุณุญ ุงูุจุงุฑููุฏ ูุน ุฏุนู ูุชุนุฏุฏ
- ุงุฎุชุตุงุฑุงุช ููุญุฉ ููุงุชูุญ ูุชูุฏูุฉ
- ุชุนููู ูุงุณุชุฆูุงู ุงูููุงุชูุฑ (Park/Unpark)
- ุชูุณูู ุงูุฏูุน (Split Payment)
- ุทุจุงุนุฉ ุญุฑุงุฑูุฉ (58mm/80mm)
- ูุธุงู ุงููุฑุชุฌุนุงุช ุงูุฐูู

### ๐ ุฅุฏุงุฑุฉ ุงููุฎุฒูู
- ุชุชุจุน ุฏููู ูููููุงุช ูู ุฌููุน ุงููุฑูุน
- ุญุฑูุงุช ุงููุฎุฒูู ุงูุชูุตูููุฉ
- ุชูุจููุงุช ุงููุฎุฒูู ุงูููุฎูุถ
- ููุทุฉ ุฅุนุงุฏุฉ ุงูุทูุจ ุงูุชููุงุฆูุฉ (ROP)
- ุชุณููุงุช ุงููุฎุฒูู ูุน ุงูููุงููุงุช
- ููู ุงููุฎุฒูู ุจูู ุงููุฑูุน

### ๐ฐ ุงูููุงุชูุฑ ูุงููุจูุนุงุช
- ููุงุชูุฑ ุฅููุชุฑูููุฉ ูุชูุงููุฉ ูุน ZATCA
- ุฑููุฒ QR ุญุณุจ ูุนุงููุฑ ZATCA TLV
- ุชุตุฏูุฑ UBL/XML
- ุญุณุงุจ ุชููุงุฆู ูุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ (15%)
- ุฏุนู ุฃููุงุน ูุฎุชููุฉ ูู ุงูููุงุชูุฑ
- ุฅุดุนุงุฑุงุช ุฏุงุฆูุฉ ููุฏููุฉ

### ๐ฅ ุฅุฏุงุฑุฉ ุงูุนููุงุก
- ูุธุงู ููุงุท ุงูููุงุก ุงููุชูุฏู
- ุชุชุจุน ุชุงุฑูุฎ ุงููุดุชุฑูุงุช
- ุชูุณูู ุงูุนููุงุก ูุชุญููููู
- ุนุฑูุถ ูุฎุตุตุฉ ููุนููุงุก

### ๐ฆ ุฅุฏุงุฑุฉ ุงููุดุชุฑูุงุช
- ุทูุจุงุช ุดุฑุงุก ุฅููุชุฑูููุฉ
- ุงุณุชูุงู ุงูุจุถุงุฆุน ูุน ุงููุทุงุจูุฉ
- ุชุญุฏูุซ ุชููุงุฆู ูููุฎุฒูู
- ุญุณุงุจ ุงูุชูููุฉ ุงููุชูุณุทุฉ

### ๐ฏ ุงูุนุฑูุถ ุงูุชุฑููุฌูุฉ
- ุฎุตููุงุช ุจุงููุณุจุฉ ุฃู ุงููุจูุบ
- ุนุฑูุถ "ุงุดุชุฑ X ูุงุญุตู ุนูู Y"
- ุชุทุจูู ุชููุงุฆู ููุนุฑูุถ
- ุชุชุจุน ุงุณุชุฎุฏุงู ุงูุนุฑูุถ

### ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช
- ูุธุงู ุฃุฏูุงุฑ ูุชูุฏู (Admin, Manager, Cashier, Accountant, Inventory Manager)
- Row Level Security (RLS) ุนูู ุฌููุน ุงูุจูุงูุงุช
- ุณุฌู ุชุฏููู ุดุงูู (Audit Trail)
- ูุตุงุฏูุฉ ุซูุงุฆูุฉ (MFA)

### ๐ ุงูุชูุงุฑูุฑ ูุงูุชุญูููุงุช
- ุชูุงุฑูุฑ ุงููุจูุนุงุช ุงูููููุฉ ูุงูุดูุฑูุฉ
- ุชูุงุฑูุฑ ุงููุฎุฒูู
- ุชูุงุฑูุฑ ุงูุถุฑูุจุฉ
- ุชูุงุฑูุฑ ุงููุฑุฏูุงุช (X-Report, Z-Report)
- ุชุญูููุงุช ุงูุนููุงุก ูุงูููุชุฌุงุช

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงููุชุทูุจุงุช
- Node.js 18+
- npm ุฃู yarn
- ุญุณุงุจ Supabase (ูุฌุงูู)

### ุงูุชุซุจูุช

1. **ุงุณุชูุณุงุฎ ุงููุดุฑูุน**
```bash
git clone <repository-url>
cd Yaqeen_Project_Final
```

2. **ุชุซุจูุช ุงูููุชุจุงุช**
```bash
cd frontend
npm install
```

3. **ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ**

ุงูููู `.env` ููุฌูุฏ ุจุงููุนู ูุน ุฅุนุฏุงุฏุงุช Supabase. ุชุฃูุฏ ูู ุตุญุฉ ุงูุจูุงูุงุช:

```env
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
```

4. **ุชุดุบูู ุงูุชุทุจูู**
```bash
npm start
```

ุงูุชุทุจูู ุณูุนูู ุนูู: `http://localhost:3000`

---

## ๐ ูููู ุงููุดุฑูุน

```
Yaqeen_Project_Final/
โโโ frontend/                 # ุชุทุจูู React
โ   โโโ src/
โ   โ   โโโ components/      # ุงูููููุงุช ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
โ   โ   โโโ pages/           # ุตูุญุงุช ุงูุชุทุจูู
โ   โ   โโโ services/        # ุฎุฏูุงุช API (ุฌุฏูุฏ!)
โ   โ   โโโ lib/             # ููุชุจุงุช ูุณุงุนุฏุฉ
โ   โ   โโโ stores/          # Zustand stores
โ   โ   โโโ contexts/        # React contexts
โ   โ   โโโ styles/          # ูููุงุช CSS
โ   โ   โโโ utils/           # ูุธุงุฆู ูุณุงุนุฏุฉ
โ   โโโ public/              # ูููุงุช ุนุงูุฉ
โ   โโโ package.json
โโโ api/                     # API ุจุณูุท
โโโ services/                # ุฎุฏูุงุช ุฅุถุงููุฉ (Python)
โโโ DATABASE.md              # ุชูุซูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุฌุฏูุฏ!)
โโโ README.md               # ูุฐุง ุงูููู
```

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุงููุดุฑูุน ูุณุชุฎุฏู **Supabase (PostgreSQL)** ูุน:
- โ 15+ ุฌุฏูู ูุญูู ุงูุชุตููู
- โ Row Level Security ุนูู ุฌููุน ุงูุฌุฏุงูู
- โ Triggers ุชููุงุฆูุฉ ูุชุญุฏูุซ ุงูุจูุงูุงุช
- โ Functions ูุนูููุงุช ูุนูุฏุฉ
- โ Indexes ูุญุณูุฉ ููุฃุฏุงุก

ูููุฒูุฏ ูู ุงูุชูุงุตููุ ุฑุงุฌุน [DATABASE.md](./DATABASE.md)

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ:
- `branches` - ุงููุฑูุน
- `users_profile` - ุงููุณุชุฎุฏููู
- `products` - ุงูููุชุฌุงุช
- `inventory` - ุงููุฎุฒูู
- `invoices` - ุงูููุงุชูุฑ
- `customers` - ุงูุนููุงุก
- `suppliers` - ุงูููุฑุฏูู
- `purchase_orders` - ุทูุจุงุช ุงูุดุฑุงุก
- `stock_movements` - ุญุฑูุงุช ุงููุฎุฒูู
- `cash_shifts` - ุงููุฑุฏูุงุช
- `audit_log` - ุณุฌู ุงูุชุฏููู
- `promotions` - ุงูุนุฑูุถ

---

## ๐ง ุฎุฏูุงุช API ุงูุฌุฏูุฏุฉ

ุชู ุฅูุดุงุก ุฎุฏูุงุช API ูุญููุฉ ูู ูุฌูุฏ `src/services/`:

### `productsService.js`
```javascript
import { getAllProducts, findProductByCode, searchProducts } from './services/productsService';

// ุฌูุจ ุฌููุน ุงูููุชุฌุงุช
const { data, error } = await getAllProducts();

// ุงูุจุญุซ ุนู ููุชุฌ
const product = await findProductByCode('COFFEE-001');
```

### `inventoryService.js`
```javascript
import { getInventoryByBranch, updateStock, getLowStockProducts } from './services/inventoryService';

// ุฌูุจ ุงููุฎุฒูู
const inventory = await getInventoryByBranch(branchId);

// ุงูููุชุฌุงุช ุงูููุฎูุถุฉ
const lowStock = await getLowStockProducts(branchId);
```

### `invoicesService.js`
```javascript
import { createInvoice, getInvoices, recordPayment } from './services/invoicesService';

// ุฅูุดุงุก ูุงุชูุฑุฉ
const invoice = await createInvoice({
  branch_id: 'xxx',
  user_id: 'yyy',
  items: [...]
});
```

### `customersService.js`
```javascript
import { searchCustomers, addLoyaltyPoints, getCustomerStats } from './services/customersService';

// ุฅุถุงูุฉ ููุงุท ููุงุก
await addLoyaltyPoints(customerId, 100, purchaseAmount);
```

---

## ๐จ ุงูุชุตููู

### ุงูุฃููุงู ุงูุฃุณุงุณูุฉ
- ุงูุฃุฒุฑู ุงูุฑุฆูุณู: `#0A3A6B`
- ุงูุฃุฒุฑู ุงูุซุงููู: `#2D9CDB`
- ุงูุฃุฎุถุฑ (ุงููุฌุงุญ): `#27AE60`
- ุงูุฃุญูุฑ (ุงูุฎุทุฃ): `#E74C3C`
- ุงูุฃุตูุฑ (ุงูุชุญุฐูุฑ): `#F39C12`

### ุงูุฎุทูุท
- ุงูุนุฑุจูุฉ: Noto Sans Arabic, Tajawal
- ุงูุฅูุฌููุฒูุฉ: Inter, Arial

### ุฑูุฒ ุงูุฑูุงู ุงูุณุนูุฏู (๏ทผ)
ุงููุธุงู ูุฏุนู ุฑูุฒ ุงูุฑูุงู ุงูุณุนูุฏู ุงูุฃุตูู ูุน ุชูุณููุงุช ูุชูุฏูุฉ.

---

## ๐ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

| ุงูุฏูุฑ | ุงูุตูุงุญูุงุช |
|------|-----------|
| **Admin** | ูุตูู ูุงูู ูุฌููุน ุงูููุฒุงุช |
| **Manager** | ุฅุฏุงุฑุฉ ุงููุฑุน + ุงูุชูุงุฑูุฑ |
| **Cashier** | POS + ุงูููุงุชูุฑ |
| **Accountant** | ุงูุชูุงุฑูุฑ ุงููุงููุฉ + ุณุฌู ุงูุชุฏููู |
| **Inventory Manager** | ุฅุฏุงุฑุฉ ุงููุฎุฒูู + ุงููุดุชุฑูุงุช |

---

## โจ๏ธ ุงุฎุชุตุงุฑุงุช ููุญุฉ ุงูููุงุชูุญ (POS)

| ุงูุงุฎุชุตุงุฑ | ุงููุธููุฉ |
|----------|---------|
| `F1` | ุนุฑุถ ุงูุงุฎุชุตุงุฑุงุช |
| `F6` | ุชุนููู ุงููุงุชูุฑุฉ (Park) |
| `F7` | ุงุณุชุฆูุงู ุงููุงุชูุฑุฉ (Unpark) |
| `F8` | ุฎุตู ุงููุงุชูุฑุฉ |
| `F9` | ูุถุน ุงููุฑุชุฌุนุงุช |
| `F10` | ุฅุตุฏุงุฑ ุงููุงุชูุฑุฉ |
| `Ctrl+B` | ุงูุชุฑููุฒ ุนูู ุญูู ุงูุจุงุฑููุฏ |
| `Ctrl+P` | ุทุจุงุนุฉ |
| `Alt+S` | ุชูุณูู ุงูุฏูุน |
| `Esc` | ุชูุฑูุบ ุงูุณูุฉ |
| `+/-` | ุฒูุงุฏุฉ/ุชูููู ุงููููุฉ |
| `Delete` | ุญุฐู ุณุทุฑ |

---

## ๐ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

ุชู ุฅุถุงูุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ ููุงุฎุชุจุงุฑ:
- โ ูุฑุนูู (ุงูุฑูุงุถุ ุฌุฏุฉ)
- โ 15 ููุชุฌ ูู ูุฆุงุช ูุฎุชููุฉ
- โ 3 ููุฑุฏูู
- โ 5 ุนููุงุก
- โ ูุฎุฒูู ุฃููู

---

## ๐ ุงูุชุญุฏูุซุงุช ุงูุฃุฎูุฑุฉ (v2.0)

### โ ูุง ุชู ุฅูุฌุงุฒู:

1. **ูุงุนุฏุฉ ุจูุงูุงุช Supabase ูุงููุฉ**
   - 15+ ุฌุฏูู ูุญูู ูุน RLS
   - Triggers ู Functions ุชููุงุฆูุฉ
   - ุจูุงูุงุช ุชุฌุฑูุจูุฉ ููุงุฎุชุจุงุฑ

2. **ุฎุฏูุงุช API ูุญููุฉ**
   - `productsService` - ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
   - `inventoryService` - ุฅุฏุงุฑุฉ ุงููุฎุฒูู
   - `invoicesService` - ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ
   - `customersService` - ุฅุฏุงุฑุฉ ุงูุนููุงุก

3. **ุชูุธูู ุงููุดุฑูุน**
   - ุญุฐู ุงููููุงุช ุงูุฒุงุฆุฏุฉ ูุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
   - ููู PowerShell scripts ุฅูู ูุฌูุฏ legacy
   - ุชูุซูู ุดุงูู

4. **ุชูุซูู ูุงูู**
   - DATABASE.md - ุชูุซูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - README.md ูุญุฏุซ - ูุฐุง ุงูููู

---

## ๐ ุงูุฎุทูุงุช ุงููุงุฏูุฉ

- [ ] ุฅุถุงูุฉ Unit Tests
- [ ] ุชุญุฏูุซ ุงูููููุงุช ููุงุชุตุงู ุจู Supabase
- [ ] ุฅุถุงูุฉ TypeScript ุชุฏุฑูุฌููุง
- [ ] ุจูุงุก API ูุชูุงูู ZATCA
- [ ] ุชูุงุฑูุฑ ูุชูุฏูุฉ
- [ ] ุชุทุจูู ููุจุงูู

---

## ๐ ุงููุดุงูู ุงููุนุฑููุฉ

ูุง ุชูุฌุฏ ูุดุงูู ูุนุฑููุฉ ุญุงูููุง.

---

## ๐ค ุงููุณุงููุฉ

ูุฐุง ูุดุฑูุน ุฎุงุต. ููุงุณุชูุณุงุฑุงุชุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

---

## ๐ ุงูุชุฑุฎูุต

ยฉ 2025 ููููู - ุฌููุน ุงูุญููู ูุญููุธุฉ

---

## ๐ ุงูุฏุนู ุงูููู

ููุฏุนู ุงูููู ูุงูุงุณุชูุณุงุฑุงุช:
- ๐ง Email: support@yaqeen.sa
- ๐ฑ Phone: +966 xx xxx xxxx

---

**ุตููุน ุจู โค๏ธ ูู ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ**
